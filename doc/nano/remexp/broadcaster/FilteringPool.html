<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_35) on Fri Aug 31 16:02:05 CEST 2012 -->
<TITLE>
FilteringPool (VEXP)
</TITLE>

<META NAME="date" CONTENT="2012-08-31">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FilteringPool (VEXP)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FilteringPool.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../nano/remexp/broadcaster/ClientSocketAcceptor.html" title="class in nano.remexp.broadcaster"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../nano/remexp/broadcaster/RemExpSocketAcceptor.html" title="class in nano.remexp.broadcaster"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?nano/remexp/broadcaster/FilteringPool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FilteringPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nano.remexp.broadcaster</FONT>
<BR>
Class FilteringPool</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>nano.remexp.broadcaster.FilteringPool</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../nano/remexp/net/EventSocketListener.html" title="interface in nano.remexp.net">EventSocketListener</A>, <A HREF="../../../nano/remexp/net/SocketReceiver.html" title="interface in nano.remexp.net">SocketReceiver</A>, <A HREF="../../../nano/remexp/net/StreamSocketInterface.html" title="interface in nano.remexp.net">StreamSocketInterface</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>FilteringPool</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../nano/remexp/net/EventSocketListener.html" title="interface in nano.remexp.net">EventSocketListener</A>, <A HREF="../../../nano/remexp/net/SocketReceiver.html" title="interface in nano.remexp.net">SocketReceiver</A>, <A HREF="../../../nano/remexp/net/StreamSocketInterface.html" title="interface in nano.remexp.net">StreamSocketInterface</A></DL>
</PRE>

<P>
The pool of clients that need to be dealt with. It holds all event and stream connections
 to clients, plus the output end of the stream pipe coming from the remote experiment.
 It is a pass through object between RemoteExperimentBroadcaster and RemoteExperimentPool.
 It handles the access rights of connected clients and processes commands according to their rights.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.1 23.08.2012</DD>
<DT><B>Author:</B></DT>
  <DD>Dominic Bosch</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#FilteringPool(nano.remexp.broadcaster.RemoteExperimentBroadcaster, nano.remexp.broadcaster.StreamPipe, int, int)">FilteringPool</A></B>(<A HREF="../../../nano/remexp/broadcaster/RemoteExperimentBroadcaster.html" title="class in nano.remexp.broadcaster">RemoteExperimentBroadcaster</A>&nbsp;server,
              <A HREF="../../../nano/remexp/broadcaster/StreamPipe.html" title="class in nano.remexp.broadcaster">StreamPipe</A>&nbsp;pipe,
              int&nbsp;locEvtPort,
              int&nbsp;locStrPort)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiates an object of this class with the given arguments.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#addAccess(java.lang.String, java.lang.String, int)">addAccess</A></B>(java.lang.String&nbsp;user,
          java.lang.String&nbsp;pw,
          int&nbsp;privilege)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores access privileges for future login attempts of the clients.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#addRig(java.lang.String)">addRig</A></B>(java.lang.String&nbsp;rig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the rig id that is checked for student access on the booking system.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#addSample(int, java.lang.String, java.lang.String, java.lang.String, int, int, int, int)">addSample</A></B>(int&nbsp;sid,
          java.lang.String&nbsp;sampleName,
          java.lang.String&nbsp;cmd,
          java.lang.String&nbsp;rel,
          int&nbsp;tipX,
          int&nbsp;tipY,
          int&nbsp;dX,
          int&nbsp;dY)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Passes the sample information of a new sample to the remote experiment monitor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#addSocketToObserve(nano.remexp.net.NanoSocket)">addSocketToObserve</A></B>(<A HREF="../../../nano/remexp/net/NanoSocket.html" title="class in nano.remexp.net">NanoSocket</A>&nbsp;ns)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a socket that needs to be observed for aliveness.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#broadcast(java.lang.String)">broadcast</A></B>(java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is used to send a message to all present clients.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#handleRemExpEvent(java.lang.String)">handleRemExpEvent</A></B>(java.lang.String&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Passes the message to the RemoteExperimentMonitor to handle it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#initRemExp()">initRemExp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Orders the remote experiment monitor to initialize the remote experiment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#login(nano.remexp.net.EventSocket, java.lang.String, java.lang.String)">login</A></B>(<A HREF="../../../nano/remexp/net/EventSocket.html" title="class in nano.remexp.net">EventSocket</A>&nbsp;sock,
      java.lang.String&nbsp;user,
      java.lang.String&nbsp;pass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if no password is delivered this function tries to check this client's access rights
 through the booking server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#newSocket(java.net.Socket, int)">newSocket</A></B>(java.net.Socket&nbsp;newSocket,
          int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A new client has connected on the event port.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#performSocketEvent(nano.remexp.net.EventSocket, java.lang.String)">performSocketEvent</A></B>(<A HREF="../../../nano/remexp/net/EventSocket.html" title="class in nano.remexp.net">EventSocket</A>&nbsp;sock,
                   java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The pool receives a message from the client and passes it to the remote
 experiment monitor if the remote experiment isn't busy at the moment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#removeEventSocket(nano.remexp.net.EventSocket)">removeEventSocket</A></B>(<A HREF="../../../nano/remexp/net/EventSocket.html" title="class in nano.remexp.net">EventSocket</A>&nbsp;sock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the event socket stops to read the in buffer and thus exits the loop it calls
 this method in order to remove the socket from the vector that holds the client event sockets.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#removeObservedSocket(nano.remexp.net.NanoSocket)">removeObservedSocket</A></B>(<A HREF="../../../nano/remexp/net/NanoSocket.html" title="class in nano.remexp.net">NanoSocket</A>&nbsp;ns)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a socket that decided to leave us alone.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#removeStreamSocket(nano.remexp.net.StreamSocket)">removeStreamSocket</A></B>(<A HREF="../../../nano/remexp/net/StreamSocket.html" title="class in nano.remexp.net">StreamSocket</A>&nbsp;sock)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the event socket stops to read the in buffer and thus exits the loop it calls
 this method in order to remove the socket from the vector holding the client event sockets.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#sendToRemExp(java.lang.String)">sendToRemExp</A></B>(java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used to send commands straight to the remote experiments server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#setRemExpConnected(boolean)">setRemExpConnected</A></B>(boolean&nbsp;isConnected)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Informs the remote experiment monitor about the connection state to the remote experiment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#setRemExpName(java.lang.String)">setRemExpName</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Informs the remote experiment monitor about the name of the remote experiment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#setStreamTimestamp()">setStreamTimestamp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores this moment now as a Date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../nano/remexp/broadcaster/FilteringPool.html#shutDown()">shutDown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the thread to null which should stop the thread from running.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FilteringPool(nano.remexp.broadcaster.RemoteExperimentBroadcaster, nano.remexp.broadcaster.StreamPipe, int, int)"><!-- --></A><H3>
FilteringPool</H3>
<PRE>
protected <B>FilteringPool</B>(<A HREF="../../../nano/remexp/broadcaster/RemoteExperimentBroadcaster.html" title="class in nano.remexp.broadcaster">RemoteExperimentBroadcaster</A>&nbsp;server,
                        <A HREF="../../../nano/remexp/broadcaster/StreamPipe.html" title="class in nano.remexp.broadcaster">StreamPipe</A>&nbsp;pipe,
                        int&nbsp;locEvtPort,
                        int&nbsp;locStrPort)</PRE>
<DL>
<DD>Instantiates an object of this class with the given arguments. It starts
 two listening threads on the stream and event port where clients are allowed
 to connect to.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>server</CODE> - The server instance that is used to send commands to the remote experiment.<DD><CODE>pipe</CODE> - The pipe that is filled with the data stream coming from the remote experiment.<DD><CODE>locEvtPort</CODE> - The event port on which the pool listens for new clients.<DD><CODE>locStrPort</CODE> - The stream port on which the pool listens for new clients.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initRemExp()"><!-- --></A><H3>
initRemExp</H3>
<PRE>
protected void <B>initRemExp</B>()</PRE>
<DL>
<DD>Orders the remote experiment monitor to initialize the remote experiment.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addAccess(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
addAccess</H3>
<PRE>
protected void <B>addAccess</B>(java.lang.String&nbsp;user,
                         java.lang.String&nbsp;pw,
                         int&nbsp;privilege)</PRE>
<DL>
<DD>Stores access privileges for future login attempts of the clients.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>user</CODE> - the user name<DD><CODE>pw</CODE> - the password<DD><CODE>privilege</CODE> - the privilege that can be gained through these credentials</DL>
</DD>
</DL>
<HR>

<A NAME="addRig(java.lang.String)"><!-- --></A><H3>
addRig</H3>
<PRE>
protected void <B>addRig</B>(java.lang.String&nbsp;rig)</PRE>
<DL>
<DD>Sets the rig id that is checked for student access on the booking system.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rig</CODE> - the Rig ID to be checked on the booking server</DL>
</DD>
</DL>
<HR>

<A NAME="addSample(int, java.lang.String, java.lang.String, java.lang.String, int, int, int, int)"><!-- --></A><H3>
addSample</H3>
<PRE>
protected void <B>addSample</B>(int&nbsp;sid,
                         java.lang.String&nbsp;sampleName,
                         java.lang.String&nbsp;cmd,
                         java.lang.String&nbsp;rel,
                         int&nbsp;tipX,
                         int&nbsp;tipY,
                         int&nbsp;dX,
                         int&nbsp;dY)</PRE>
<DL>
<DD>Passes the sample information of a new sample to the remote experiment monitor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sid</CODE> - the sample id<DD><CODE>sampleName</CODE> - the sample name<DD><CODE>cmd</CODE> - the command to the remote experiment moving to the sample<DD><CODE>rel</CODE> - the command sent by the remote experiment, indicating the movement to the sample succeeded<DD><CODE>tipX</CODE> - the initial x position of the tip at this sample<DD><CODE>tipY</CODE> - the initial y position of the tip at this sample<DD><CODE>dX</CODE> - the maximum distance allowed away from the initial tip position in x direction<DD><CODE>dY</CODE> - the maximum distance allowed away from the initial tip position in y direction</DL>
</DD>
</DL>
<HR>

<A NAME="setRemExpName(java.lang.String)"><!-- --></A><H3>
setRemExpName</H3>
<PRE>
protected void <B>setRemExpName</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Informs the remote experiment monitor about the name of the remote experiment.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the remote experiment</DL>
</DD>
</DL>
<HR>

<A NAME="setRemExpConnected(boolean)"><!-- --></A><H3>
setRemExpConnected</H3>
<PRE>
protected void <B>setRemExpConnected</B>(boolean&nbsp;isConnected)</PRE>
<DL>
<DD>Informs the remote experiment monitor about the connection state to the remote experiment.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>isConnected</CODE> - whether the remote experiment is connected or not</DL>
</DD>
</DL>
<HR>

<A NAME="setStreamTimestamp()"><!-- --></A><H3>
setStreamTimestamp</H3>
<PRE>
protected void <B>setStreamTimestamp</B>()</PRE>
<DL>
<DD>Stores this moment now as a Date. Is used when the remote experiment sends data through the stream.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newSocket(java.net.Socket, int)"><!-- --></A><H3>
newSocket</H3>
<PRE>
public void <B>newSocket</B>(java.net.Socket&nbsp;newSocket,
                      int&nbsp;port)</PRE>
<DL>
<DD>A new client has connected on the event port. The socket is added to the 
 internal storage that manages all connected sockets in order to send 
 events or stream data to the clients.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../nano/remexp/net/SocketReceiver.html#newSocket(java.net.Socket, int)">newSocket</A></CODE> in interface <CODE><A HREF="../../../nano/remexp/net/SocketReceiver.html" title="interface in nano.remexp.net">SocketReceiver</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newSocket</CODE> - The socket that connected to the pool on either the event or stream port.<DD><CODE>port</CODE> - The local port on which it has been connected.</DL>
</DD>
</DL>
<HR>

<A NAME="performSocketEvent(nano.remexp.net.EventSocket, java.lang.String)"><!-- --></A><H3>
performSocketEvent</H3>
<PRE>
public void <B>performSocketEvent</B>(<A HREF="../../../nano/remexp/net/EventSocket.html" title="class in nano.remexp.net">EventSocket</A>&nbsp;sock,
                               java.lang.String&nbsp;message)</PRE>
<DL>
<DD>The pool receives a message from the client and passes it to the remote
 experiment monitor if the remote experiment isn't busy at the moment.
 The command will not be stored and the client needs to
 deliver it again as soon as the remote experiment is ready again.
 Administrator commands are sent straight through to the remote experiment.
 Administrator commands do not set any locks. This is implemented on purpose 
 since the administrator should know what he's doing.
 In case a controller sends a message, this function checks whether the rights
 of a client that gained his controller rights through the booking server have now expired.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../nano/remexp/net/EventSocketListener.html#performSocketEvent(nano.remexp.net.EventSocket, java.lang.String)">performSocketEvent</A></CODE> in interface <CODE><A HREF="../../../nano/remexp/net/EventSocketListener.html" title="interface in nano.remexp.net">EventSocketListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sock</CODE> - The client socket from where the event has been received.<DD><CODE>message</CODE> - The event that has been sent.</DL>
</DD>
</DL>
<HR>

<A NAME="handleRemExpEvent(java.lang.String)"><!-- --></A><H3>
handleRemExpEvent</H3>
<PRE>
protected void <B>handleRemExpEvent</B>(java.lang.String&nbsp;msg)</PRE>
<DL>
<DD>Passes the message to the RemoteExperimentMonitor to handle it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - The plain message coming from the remote experiment.</DL>
</DD>
</DL>
<HR>

<A NAME="broadcast(java.lang.String)"><!-- --></A><H3>
broadcast</H3>
<PRE>
protected void <B>broadcast</B>(java.lang.String&nbsp;message)</PRE>
<DL>
<DD>This function is used to send a message to all present clients.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to be sent</DL>
</DD>
</DL>
<HR>

<A NAME="sendToRemExp(java.lang.String)"><!-- --></A><H3>
sendToRemExp</H3>
<PRE>
protected void <B>sendToRemExp</B>(java.lang.String&nbsp;message)</PRE>
<DL>
<DD>This method is used to send commands straight to the remote experiments server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - The command to be sent to the remote experiment.</DL>
</DD>
</DL>
<HR>

<A NAME="login(nano.remexp.net.EventSocket, java.lang.String, java.lang.String)"><!-- --></A><H3>
login</H3>
<PRE>
public void <B>login</B>(<A HREF="../../../nano/remexp/net/EventSocket.html" title="class in nano.remexp.net">EventSocket</A>&nbsp;sock,
                  java.lang.String&nbsp;user,
                  java.lang.String&nbsp;pass)</PRE>
<DL>
<DD>if no password is delivered this function tries to check this client's access rights
 through the booking server. Else the internal access rights are checked.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../nano/remexp/net/EventSocketListener.html#login(nano.remexp.net.EventSocket, java.lang.String, java.lang.String)">login</A></CODE> in interface <CODE><A HREF="../../../nano/remexp/net/EventSocketListener.html" title="interface in nano.remexp.net">EventSocketListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sock</CODE> - The socket that tries to gain privileges.<DD><CODE>user</CODE> - The username used to gain privileges.<DD><CODE>pass</CODE> - The password passed as a MD-5 hash in case of a non-LiLa login, empty if LiLa login shall be attempted.</DL>
</DD>
</DL>
<HR>

<A NAME="removeEventSocket(nano.remexp.net.EventSocket)"><!-- --></A><H3>
removeEventSocket</H3>
<PRE>
public void <B>removeEventSocket</B>(<A HREF="../../../nano/remexp/net/EventSocket.html" title="class in nano.remexp.net">EventSocket</A>&nbsp;sock)</PRE>
<DL>
<DD>If the event socket stops to read the in buffer and thus exits the loop it calls
 this method in order to remove the socket from the vector that holds the client event sockets.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../nano/remexp/net/EventSocketListener.html#removeEventSocket(nano.remexp.net.EventSocket)">removeEventSocket</A></CODE> in interface <CODE><A HREF="../../../nano/remexp/net/EventSocketListener.html" title="interface in nano.remexp.net">EventSocketListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sock</CODE> - the socket that has been closed</DL>
</DD>
</DL>
<HR>

<A NAME="removeStreamSocket(nano.remexp.net.StreamSocket)"><!-- --></A><H3>
removeStreamSocket</H3>
<PRE>
public void <B>removeStreamSocket</B>(<A HREF="../../../nano/remexp/net/StreamSocket.html" title="class in nano.remexp.net">StreamSocket</A>&nbsp;sock)</PRE>
<DL>
<DD>If the event socket stops to read the in buffer and thus exits the loop it calls
 this method in order to remove the socket from the vector holding the client event sockets.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../nano/remexp/net/StreamSocketInterface.html#removeStreamSocket(nano.remexp.net.StreamSocket)">removeStreamSocket</A></CODE> in interface <CODE><A HREF="../../../nano/remexp/net/StreamSocketInterface.html" title="interface in nano.remexp.net">StreamSocketInterface</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sock</CODE> - the socket that has been closed</DL>
</DD>
</DL>
<HR>

<A NAME="addSocketToObserve(nano.remexp.net.NanoSocket)"><!-- --></A><H3>
addSocketToObserve</H3>
<PRE>
protected void <B>addSocketToObserve</B>(<A HREF="../../../nano/remexp/net/NanoSocket.html" title="class in nano.remexp.net">NanoSocket</A>&nbsp;ns)</PRE>
<DL>
<DD>Add a socket that needs to be observed for aliveness.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ns</CODE> - the socket to be observed</DL>
</DD>
</DL>
<HR>

<A NAME="removeObservedSocket(nano.remexp.net.NanoSocket)"><!-- --></A><H3>
removeObservedSocket</H3>
<PRE>
protected void <B>removeObservedSocket</B>(<A HREF="../../../nano/remexp/net/NanoSocket.html" title="class in nano.remexp.net">NanoSocket</A>&nbsp;ns)</PRE>
<DL>
<DD>Remove a socket that decided to leave us alone.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ns</CODE> - the socket that had enough</DL>
</DD>
</DL>
<HR>

<A NAME="shutDown()"><!-- --></A><H3>
shutDown</H3>
<PRE>
protected void <B>shutDown</B>()</PRE>
<DL>
<DD>Sets the thread to null which should stop the thread from running.
 It first forces all client event sockets to be closed and then also the pipe
 that holds the stream sockets.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FilteringPool.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../nano/remexp/broadcaster/ClientSocketAcceptor.html" title="class in nano.remexp.broadcaster"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../nano/remexp/broadcaster/RemExpSocketAcceptor.html" title="class in nano.remexp.broadcaster"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?nano/remexp/broadcaster/FilteringPool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FilteringPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<i>Copyright &#169; 2012 nano-world.org, Inc. All Rights Reserved</i>
</BODY>
</HTML>
